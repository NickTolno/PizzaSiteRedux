{"ast":null,"code":"var _jsxFileName = \"/home/nick/Projects/Pizza App/PizzaSite/src/components/Sort/Sort.tsx\",\n    _s = $RefreshSig$();\n\nimport Cookies from 'js-cookie';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch } from 'react-redux';\nimport { useAppSelector } from '../../hooks';\nimport { setSortType } from '../../redux/slices/filterSlice';\nimport styles from './Sort.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Sort = () => {\n  _s();\n\n  const currentSort = useAppSelector(state => state.filter.sortType);\n  const dispatch = useDispatch();\n  const {\n    t\n  } = useTranslation();\n  const sortList = [{\n    name: t('sortList0'),\n    sort: 'rating'\n  }, {\n    name: t('sortList1'),\n    sort: 'price'\n  }, {\n    name: t('sortList2'),\n    sort: 'title'\n  }];\n  const [open, setOpen] = useState(false);\n  const sortRef = useRef(null);\n\n  const selectSort = sortIndex => {\n    dispatch(setSortType(sortList[sortIndex]));\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    dispatch(setSortType({\n      name: t('sortList0'),\n      sort: 'rating'\n    }));\n  }, [Cookies.get('i18next')]);\n  useEffect(() => {\n    const handleClickOutside = e => {\n      if (sortRef.current && !e.composedPath().includes(sortRef.current)) {\n        setOpen(false);\n      }\n    };\n\n    document.body.addEventListener('click', handleClickOutside);\n    return () => document.body.removeEventListener('click', handleClickOutside);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: sortRef,\n    className: styles.sort,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.label,\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"10\",\n        height: \"6\",\n        viewBox: \"0 0 10 6\",\n        fill: \"none\",\n        xmlns: \"http://www.w3.org/2000/svg\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\",\n          fill: \"#2C2C2C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [t('sortBy'), \":\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: () => setOpen(!open),\n        children: currentSort.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), open && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.popup,\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: sortList.map((sort, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: sort.name === currentSort.name ? styles.active : '',\n          onClick: () => selectSort(i),\n          children: sort.name\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Sort, \"kC6456TMdwiULyfqGuA0QosbTmk=\", false, function () {\n  return [useAppSelector, useDispatch, useTranslation];\n});\n\n_c = Sort;\nexport default Sort;\n\nvar _c;\n\n$RefreshReg$(_c, \"Sort\");","map":{"version":3,"names":["Cookies","React","useEffect","useRef","useState","useTranslation","useDispatch","useAppSelector","setSortType","styles","Sort","currentSort","state","filter","sortType","dispatch","t","sortList","name","sort","open","setOpen","sortRef","selectSort","sortIndex","get","handleClickOutside","e","current","composedPath","includes","document","body","addEventListener","removeEventListener","label","popup","map","i","active"],"sources":["/home/nick/Projects/Pizza App/PizzaSite/src/components/Sort/Sort.tsx"],"sourcesContent":["import Cookies from 'js-cookie';\nimport React, { FC, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useAppSelector } from '../../hooks';\nimport { setSortType } from '../../redux/slices/filterSlice';\n\nimport styles from './Sort.module.scss';\n\nconst Sort: FC = () => {\n  const currentSort = useAppSelector((state) => state.filter.sortType);\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n\n  const sortList = [\n    { name: t('sortList0'), sort: 'rating' },\n    { name: t('sortList1'), sort: 'price' },\n    { name: t('sortList2'), sort: 'title' },\n  ];\n  const [open, setOpen] = useState(false);\n  const sortRef = useRef<HTMLDivElement>(null);\n\n  const selectSort = (sortIndex: number) => {\n    dispatch(setSortType(sortList[sortIndex]));\n    setOpen(false);\n  };\n  useEffect(() => {\n    dispatch(setSortType({ name: t('sortList0'), sort: 'rating' }));\n  }, [Cookies.get('i18next')]);\n\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (sortRef.current && !e.composedPath().includes(sortRef.current)) {\n        setOpen(false);\n      }\n    };\n\n    document.body.addEventListener('click', handleClickOutside);\n\n    return () => document.body.removeEventListener('click', handleClickOutside);\n  }, []);\n\n  return (\n    <div ref={sortRef} className={styles.sort}>\n      <div className={styles.label}>\n        <svg\n          width=\"10\"\n          height=\"6\"\n          viewBox=\"0 0 10 6\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\">\n          <path\n            d=\"M10 5C10 5.16927 9.93815 5.31576 9.81445 5.43945C9.69075 5.56315 9.54427 5.625 9.375 5.625H0.625C0.455729 5.625 0.309245 5.56315 0.185547 5.43945C0.061849 5.31576 0 5.16927 0 5C0 4.83073 0.061849 4.68424 0.185547 4.56055L4.56055 0.185547C4.68424 0.061849 4.83073 0 5 0C5.16927 0 5.31576 0.061849 5.43945 0.185547L9.81445 4.56055C9.93815 4.68424 10 4.83073 10 5Z\"\n            fill=\"#2C2C2C\"\n          />\n        </svg>\n        <p>{t('sortBy')}:</p>\n        <span onClick={() => setOpen(!open)}>{currentSort.name}</span>\n      </div>\n      {open && (\n        <div className={styles.popup}>\n          <ul>\n            {sortList.map((sort, i) => (\n              <li\n                key={i}\n                className={sort.name === currentSort.name ? styles.active : ''}\n                onClick={() => selectSort(i)}>\n                {sort.name}\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Sort;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}