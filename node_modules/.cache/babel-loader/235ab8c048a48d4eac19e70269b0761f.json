{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { EPizzaSliceStatus } from '../../@types/pizzaSliceTypes';\nconst initialState = {\n  pizzasList: [],\n  status: EPizzaSliceStatus.Loading\n};\nexport const fetchPizzas = createAsyncThunk('pizzas/fetchPizzas', async params => {\n  const {\n    sortType,\n    categoryId,\n    searchValue,\n    currentPage,\n    currentLanguage\n  } = params;\n  const response = await axios.get(`https://62c007ccd40d6ec55cc99bf2.mockapi.io/Items${currentLanguage}`, {\n    params: {\n      page: currentPage,\n      limit: 4,\n      sortBy: sortType.sort,\n      category: categoryId > 0 ? categoryId : null,\n      search: searchValue\n    }\n  });\n  return response.data;\n});\nexport const pizzasSlice = createSlice({\n  name: 'pizzasSlice',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchPizzas.pending, state => {\n      state.pizzasList = [];\n      state.status = EPizzaSliceStatus.Loading;\n    });\n    builder.addCase(fetchPizzas.fulfilled, (state, action) => {\n      state.pizzasList = action.payload;\n      state.status = EPizzaSliceStatus.Success;\n    });\n    builder.addCase(fetchPizzas.rejected, state => {\n      state.pizzasList = [];\n      state.status = EPizzaSliceStatus.Error;\n    });\n  }\n});\nexport default pizzasSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","EPizzaSliceStatus","initialState","pizzasList","status","Loading","fetchPizzas","params","sortType","categoryId","searchValue","currentPage","currentLanguage","response","get","page","limit","sortBy","sort","category","search","data","pizzasSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","Success","rejected","Error","reducer"],"sources":["/home/nick/Projects/Shop App/PizzaShop-main/src/redux/slices/pizzasSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport { EPizzaSliceStatus, IPizzaBlock, IPizzaSliceParams, IPizzasSlice } from '../../@types/pizzaSliceTypes';\n\nconst initialState: IPizzasSlice = {\n  pizzasList: [],\n  status: EPizzaSliceStatus.Loading,\n};\n\nexport const fetchPizzas = createAsyncThunk<IPizzaBlock[], IPizzaSliceParams>('pizzas/fetchPizzas', async (params) => {\n  const { sortType, categoryId, searchValue, currentPage, currentLanguage } = params;\n  const response = await axios.get<IPizzaBlock[]>(`https://62c007ccd40d6ec55cc99bf2.mockapi.io/Items${currentLanguage}`, {\n    params: {\n      page: currentPage,\n      limit: 4,\n      sortBy: sortType.sort,\n      category: categoryId > 0 ? categoryId : null,\n      search: searchValue,\n    },\n  });\n  return response.data;\n});\n\nexport const pizzasSlice = createSlice({\n  name: 'pizzasSlice',\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchPizzas.pending, (state) => {\n      state.pizzasList = [];\n      state.status = EPizzaSliceStatus.Loading;\n    })\n    builder.addCase(fetchPizzas.fulfilled, (state, action) => {\n      state.pizzasList = action.payload;\n      state.status = EPizzaSliceStatus.Success;\n    })\n    builder.addCase(fetchPizzas.rejected, (state) => {\n      state.pizzasList = [];\n      state.status = EPizzaSliceStatus.Error;\n    })\n  },\n});\n\nexport default pizzasSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,iBAAT,QAAgF,8BAAhF;AAEA,MAAMC,YAA0B,GAAG;EACjCC,UAAU,EAAE,EADqB;EAEjCC,MAAM,EAAEH,iBAAiB,CAACI;AAFO,CAAnC;AAKA,OAAO,MAAMC,WAAW,GAAGR,gBAAgB,CAAmC,oBAAnC,EAAyD,MAAOS,MAAP,IAAkB;EACpH,MAAM;IAAEC,QAAF;IAAYC,UAAZ;IAAwBC,WAAxB;IAAqCC,WAArC;IAAkDC;EAAlD,IAAsEL,MAA5E;EACA,MAAMM,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CAA0B,oDAAmDF,eAAgB,EAA7F,EAAgG;IACrHL,MAAM,EAAE;MACNQ,IAAI,EAAEJ,WADA;MAENK,KAAK,EAAE,CAFD;MAGNC,MAAM,EAAET,QAAQ,CAACU,IAHX;MAINC,QAAQ,EAAEV,UAAU,GAAG,CAAb,GAAiBA,UAAjB,GAA8B,IAJlC;MAKNW,MAAM,EAAEV;IALF;EAD6G,CAAhG,CAAvB;EASA,OAAOG,QAAQ,CAACQ,IAAhB;AACD,CAZ0C,CAApC;AAcP,OAAO,MAAMC,WAAW,GAAGvB,WAAW,CAAC;EACrCwB,IAAI,EAAE,aAD+B;EAErCrB,YAFqC;EAGrCsB,QAAQ,EAAE,EAH2B;EAIrCC,aAAa,EAAGC,OAAD,IAAa;IAC1BA,OAAO,CAACC,OAAR,CAAgBrB,WAAW,CAACsB,OAA5B,EAAsCC,KAAD,IAAW;MAC9CA,KAAK,CAAC1B,UAAN,GAAmB,EAAnB;MACA0B,KAAK,CAACzB,MAAN,GAAeH,iBAAiB,CAACI,OAAjC;IACD,CAHD;IAIAqB,OAAO,CAACC,OAAR,CAAgBrB,WAAW,CAACwB,SAA5B,EAAuC,CAACD,KAAD,EAAQE,MAAR,KAAmB;MACxDF,KAAK,CAAC1B,UAAN,GAAmB4B,MAAM,CAACC,OAA1B;MACAH,KAAK,CAACzB,MAAN,GAAeH,iBAAiB,CAACgC,OAAjC;IACD,CAHD;IAIAP,OAAO,CAACC,OAAR,CAAgBrB,WAAW,CAAC4B,QAA5B,EAAuCL,KAAD,IAAW;MAC/CA,KAAK,CAAC1B,UAAN,GAAmB,EAAnB;MACA0B,KAAK,CAACzB,MAAN,GAAeH,iBAAiB,CAACkC,KAAjC;IACD,CAHD;EAID;AAjBoC,CAAD,CAA/B;AAoBP,eAAeb,WAAW,CAACc,OAA3B"},"metadata":{},"sourceType":"module"}