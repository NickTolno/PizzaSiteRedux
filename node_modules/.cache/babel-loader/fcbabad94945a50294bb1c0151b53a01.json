{"ast":null,"code":"var _jsxFileName = \"/home/nick/Projects/Pizza App/PizzaShop-main/src/components/Pizza/Pizza.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { EPizzaSliceStatus } from '../../@types/pizzaSliceTypes';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { addItemToCart } from '../../redux/slices/cartSlice';\nimport { fetchPizza } from '../../redux/slices/pizzaItemSlice';\nimport styles from './Pizza.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Pizza = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const {\n    pizza,\n    status\n  } = useAppSelector(state => state.pizzaItem);\n  const currentLanguage = useAppSelector(state => state.filter.currentLanguage);\n  const cartItem = useAppSelector(state => state.cart.items.find(item => item.id === id));\n  const {\n    t\n  } = useTranslation();\n  const typesList = [{\n    id: 0,\n    name: t('typesList0')\n  }, {\n    id: 1,\n    name: t('typesList1')\n  }];\n\n  const addToCart = () => {\n    dispatch(addItemToCart({\n      id: pizza.id,\n      imageUrl: pizza.imageUrl,\n      title: pizza.title,\n      type: typesList[pizza.type].name,\n      size: pizza.size,\n      price: pizza.price,\n      count: 1\n    }));\n  };\n\n  const count = cartItem ? cartItem.count : 0;\n  useEffect(() => {\n    if (id) {\n      dispatch(fetchPizza({\n        id,\n        currentLanguage\n      }));\n    }\n  }, []);\n\n  if (status === EPizzaSliceStatus.Error) {\n    navigate('/');\n  }\n\n  if (status === EPizzaSliceStatus.Loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.root,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.image,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: pizza.imageUrl,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.info,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: pizza.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [typesList[pizza.type].name, \" \", t('dough')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [t('pizzaSize'), \": \", pizza.size, \" \", t('pizzaSizeCm')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.price,\n        children: [t('price'), \" \", pizza.price, \" \\u20BD\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addToCart,\n        className: styles.button,\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          width: \"12\",\n          height: \"12\",\n          viewBox: \"0 0 12 12\",\n          fill: \"none\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",\n            fill: \"white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: t('addButton')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), count > 0 && /*#__PURE__*/_jsxDEV(\"i\", {\n          children: count\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Pizza, \"isAn/OvlgXqpcBnFzjNWJjnbAKc=\", false, function () {\n  return [useParams, useAppDispatch, useNavigate, useAppSelector, useAppSelector, useAppSelector, useTranslation];\n});\n\n_c = Pizza;\nexport default Pizza;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pizza\");","map":{"version":3,"names":["React","useEffect","useTranslation","useNavigate","useParams","EPizzaSliceStatus","useAppDispatch","useAppSelector","addItemToCart","fetchPizza","styles","Pizza","id","dispatch","navigate","pizza","status","state","pizzaItem","currentLanguage","filter","cartItem","cart","items","find","item","t","typesList","name","addToCart","imageUrl","title","type","size","price","count","Error","Loading","root","image","info","button"],"sources":["/home/nick/Projects/Pizza App/PizzaShop-main/src/components/Pizza/Pizza.tsx"],"sourcesContent":["import React, { FC, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { ICartItem } from '../../@types/cartSliceTypes';\nimport { EPizzaSliceStatus } from '../../@types/pizzaSliceTypes';\nimport { useAppDispatch, useAppSelector } from '../../hooks';\nimport { addItemToCart } from '../../redux/slices/cartSlice';\nimport { fetchPizza } from '../../redux/slices/pizzaItemSlice';\nimport { TypeItem } from '../PizzaBlock/PizzaBlock';\n\nimport styles from './Pizza.module.scss';\n\nconst Pizza: FC = () => {\n  const { id } = useParams();\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const { pizza, status } = useAppSelector((state) => state.pizzaItem);\n  const currentLanguage = useAppSelector((state) => state.filter.currentLanguage);\n  const cartItem = useAppSelector((state) =>\n    state.cart.items.find((item: ICartItem) => item.id === id),\n  );\n  const { t } = useTranslation();\n\n  const typesList: TypeItem[] = [\n    { id: 0, name: t('typesList0') },\n    { id: 1, name: t('typesList1') },\n  ];\n\n  const addToCart = () => {\n    dispatch(\n      addItemToCart({\n        id: pizza.id,\n        imageUrl: pizza.imageUrl,\n        title: pizza.title,\n        type: typesList[pizza.type].name,\n        size: pizza.size,\n        price: pizza.price,\n        count: 1,\n      }),\n    );\n  };\n  const count = cartItem ? cartItem.count : 0;\n\n  useEffect(() => {\n    if (id) {\n      dispatch(fetchPizza({ id, currentLanguage }));\n    }\n  }, []);\n\n  if (status === EPizzaSliceStatus.Error) {\n    navigate('/');\n  }\n\n  if (status === EPizzaSliceStatus.Loading) {\n    return <div>Загрузка...</div>;\n  }\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.image}>\n        <img src={pizza.imageUrl} alt=\"\" />\n      </div>\n      <div className={styles.info}>\n        <h1>{pizza.title}</h1>\n\n        <div>\n          {typesList[pizza.type].name} {t('dough')}\n        </div>\n        <div>\n          {t('pizzaSize')}: {pizza.size} {t('pizzaSizeCm')}\n        </div>\n        <p className={styles.price}>\n          {t('price')} {pizza.price} ₽\n        </p>\n        <button onClick={addToCart} className={styles.button}>\n          <svg\n            width=\"12\"\n            height=\"12\"\n            viewBox=\"0 0 12 12\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\">\n            <path\n              d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\n              fill=\"white\"\n            />\n          </svg>\n          <span>{t('addButton')}</span>\n          {count > 0 && <i>{count}</i>}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Pizza;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}